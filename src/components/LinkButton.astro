---
import { Icon } from 'astro-icon/components';
const { link, page, icon, title, isExternal = false } = Astro.props;

const newWindow = {
  ...(isExternal && {
    target: '_blank', 
    rel: 'noopener noreferrer',
    class: '--card'
  })
};
---

<a 
  href={link}
  aria-label={`Navigate to ${page}`}
  class={`link__wrapper${isExternal ? newWindow.class : ''} clickable`}
  {...newWindow}
>
  <Icon
    name={icon} 
    aria-hidden="true"
    class={`link__icon${isExternal ? newWindow.class : ''}`}
  />
  <span class={`link__title${isExternal ? newWindow.class : ''}`}>{title}</span>
</a>

<style>

  .link__wrapper,
  .link__wrapper--card {
    margin-bottom: 2rem;
    border: var(--border-thin);
    border-radius: var(--border-radius-soft);
    padding: 1.2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    background-color: var(--color-frost);
    -webkit-backdrop-filter: blur(var(--blur));
    backdrop-filter: blur(var(--blur));
  }

  .link__icon {
    font-size: 1.25rem;
    font-size: var(--font-size-400);
  }

  .link__icon--card {
    font-size: var(--font-size-300);
  }

  .link__title,
  .link__title--card {
    font-weight: var(--font-weight-medium);
    text-transform: uppercase;
    letter-spacing: var(--letter-spacing-medium);
  }

  .link__title {
    font-size: var(--font-size-400);
  }

  .link__title--card {
    font-size: var(--font-size-300);
  }

  @media (min-width: 50em) {
    .link__wrapper {
      width: 14rem;
    }
  }
</style>